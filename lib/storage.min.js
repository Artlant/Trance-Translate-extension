var Storage=function(){return{setParams:function(e,o){var r=o?chrome.storage.sync:chrome.storage.local;r.set(e,function(){chrome.runtime.lastError&&console.log(chrome.runtime.lastError)})},getParams:function(e,o,r){var t=r?chrome.storage.sync:chrome.storage.local;t.get(e,function(e){chrome.runtime.lastError?console.log(chrome.runtime.lastError):o(e)})},retrieveOptions:function(e){console.log("Load from Storage:",JSON.stringify(e));for(var o in e){var r=e[o],t=document.getElementById(o);if(t)switch(console.log(">opt "+o+"["+t.tagName.toLowerCase()+"]: "+r),t.tagName.toLowerCase()){case"textarea":t.value=r;break;case"select":this.setSelectOption(t,r);break;case"input":switch(console.log(">>opt "+o+"["+t.type.toLowerCase()+"]: "+r),t.type.toLowerCase()){case"checkbox":t.checked=!!r}}}},setSelectOption:function(e,o){for(var r=0;r<e.children.length;r++){var t=e.children[r];if("~"==t.value.charAt(0)&&(t.value=""),"~"==o.charAt(0)&&(o=""),t.value===o){t.selected=!0;break}}}}}();chrome.storage.onChanged.addListener(function(e,o){for(var r in e){var t=e[r];console.log('("%s") "%s" : "%s" => "%s"',o,r,t.oldValue,t.newValue)}});